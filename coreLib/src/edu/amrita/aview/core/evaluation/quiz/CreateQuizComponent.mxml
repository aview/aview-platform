<?xml version="1.0" encoding="utf-8"?>
<!--
////////////////////////////////////////////////////////////////////////////////
//
// Copyright  Â© 2013 E-Learning Research Lab,
// Amrita Vishwa Vidyapeetham. All rights reserved.
// E-Learning Research Lab and the A-VIEW logo are trademarks or
// registered trademarks of E-Learning Research Lab.
// All other names used are the trademarks of their respective owners.
//
////////////////////////////////////////////////////////////////////////////////
-->

<!---

File		  : CreateQuizComponent.mxml
Module		  : Evaluation
Developer(s)  : Sethu Subramanian N, Abhirami, Swati, Radha, Mathiyalakan
Reviewer(s)	  : Vinod Kumar P

CreateQuizComponent is used to create/edit a quiz .

-->
<components:InsidePanel xmlns:fx="http://ns.adobe.com/mxml/2009"						
						 xmlns:s="library://ns.adobe.com/flex/spark"
						 xmlns:mx="library://ns.adobe.com/flex/mx"
						 
						 width="369"
						 height="450"
						 backgroundColor="#e0effb"
						
						 color="#FFFFFF"
						 dropShadowVisible="false"
						 enabled="true"
						 focusColor="#A9F9A0"
						 title="Start New Quiz"
						 textAlign="center"
						 fontFamily="Arial"
						 fontSize="15" xmlns:components="edu.amrita.aview.core.shared.components.*"
						 >

	<fx:Declarations>
		<!-- HTTPService to call server -->
		<s:HTTPService id="httpGetServerDate"
					   result="getServerDateResultHandler(event)"
					   fault="getServerDateFaultHandler(event)"
					   url="{'http://' + ClassroomContext.CONTENT_WHITEBOARD+':'+ClassroomContext.portWAMP + '/AVScript/Whiteboard/serverDate.php?module=quiz'}"
					   method="POST"/>
	</fx:Declarations>

	<fx:Script source="CreateQuizComponentUIHandler.as"/>

	<!-- Main vbox container -->
	<mx:VBox left="5" right="5" top="5" bottom="5" borderColor="#A3D7FF" borderStyle="solid"
			 borderVisible="true" chromeColor="#CCCCCC" color="#000000" fontFamily="Arial"
			 fontSize="12" fontWeight="normal" paddingLeft="10" paddingTop="30" textAlign="left">
		<mx:HBox width="313" height="32" verticalAlign="middle">
			<!-- Label to show asterisk -->
			<s:Label left="5"
					 top="10"
					 color="#ED3814"
					 fontFamily="Times New Roman"
					 fontSize="13"
					 fontWeight="bold"
					 text="*"/>
			<!-- Label to show Quiz Name -->
			<s:Label left="25"
					 top="285"
					 width="91"
					 text="Quiz Name"
					 fontFamily="Arial"
					 fontSize="12"
					 fontWeight="normal"/>
			<!-- Fix for Bug #11776
			maxChars for quizName is set as 60.
			Limit of Quiz name in data base is 100 charecters,but from UI it is given only 60 so as to hold the delete appender when deleting -->
			<!-- Text input to accept quiz name -->
			<s:TextInput id="txtInpQuizName" right="92" top="75" width="160" height="28"
						 chromeColor="#E0EFFB" focusColor="#F48C26" maxChars="60"
						 skinClass="edu.amrita.aview.core.shared.skins.CustomTextInputSkin"/>

		</mx:HBox>
		<mx:HBox width="313" height="32" verticalAlign="middle">
			<!-- Label to show asterisk -->
			<s:Label left="5"
					 top="10"
					 color="#ED3814"
					 fontFamily="Times New Roman"
					 fontSize="13"
					 fontWeight="bold"
					 text="*"/>
			<!-- Label to show Duration -->
			<s:Label left="25"
					 top="285"
					 width="91"
					 text="Duration"
					 fontFamily="Arial"
					 fontWeight="normal"
					 fontSize="12"
					 enabled="false"/>
			<!-- Text input to accept duration -->
			<s:TextInput id="txtInpDuration" right="130" top="75" width="84" height="28"
						 chromeColor="#E0EFFB" focusColor="#F48C26" maxChars="2" restrict="0-9."
						 skinClass="edu.amrita.aview.core.shared.skins.CustomTextInputSkin" text="0"/>
			<!-- Label to show minutes -->
			<s:Label enabled="false" fontFamily="Arial" text="minutes"/>

		</mx:HBox>
		<mx:HBox width="313" height="32" verticalAlign="middle">
			<!-- Label to show asterisk -->
			<s:Label left="5"
					 top="10"
					 color="#ED3814"
					 fontFamily="Times New Roman"
					 fontSize="13"
					 fontWeight="bold"
					 text="*"/>
			<!-- Label to show Time Open -->
			<s:Label left="25"
					 top="285"
					 width="91"
					 text="Time Open "
					 fontFamily="Arial"
					 fontSize="12"
					 fontWeight="normal"/>
			<!-- Date field to accept start date -->			
			<components:DateFieldWithKeyDownHandler id="dateStartDate" right="92" top="75"
													width="160" height="28"
													change="{setEndDateRange()}"
													chromeColor="#E0EFFB" focusColor="#F48C26"
													focusIn="{dateStartDate.open()}"
													formatString="DD/MM/YYYY"
													selectableRange="{{rangeStart: new Date()}}"/>
		</mx:HBox>

		<mx:HBox width="313" height="32" verticalAlign="middle">
			<s:Spacer width="10"/>
			<s:Label fontFamily="Arial" text="Hours :"/>
			<s:NumericStepper id="startHour" chromeColor="#E0EFFB" maximum="23" minimum="0"/>
			<s:Label fontFamily="Arial" text="Minutes : "/>
			<s:NumericStepper id="startMinutes" chromeColor="#E0EFFB" maximum="59" minimum="0"/>
		</mx:HBox>
		<mx:HBox width="313" height="32" verticalAlign="middle">
			<!-- Label to show asterisk -->
			<s:Label left="5"
					 top="10"
					 color="#ED3814"
					 fontFamily="Times New Roman"
					 fontSize="13"
					 fontWeight="bold"
					 text="*"/>
			<!-- Label to show Time Close -->
			<s:Label left="25"
					 top="285"
					 width="91"
					 text="Time Close "
					 fontFamily="Arial"
					 fontSize="12"
					 fontWeight="normal"/>
			<!-- Date field to accept close date -->
			<components:DateFieldWithKeyDownHandler id="dateEndDate" right="92" top="75" width="160"
													height="28" chromeColor="#E0EFFB"
													enabled="false" formatString="DD/MM/YYYY"/>

		</mx:HBox>
		<mx:HBox width="313" height="32" verticalAlign="middle">
			<s:Spacer width="10"/>
			<s:Label fontFamily="Arial" text="Hours :"/>
			<s:NumericStepper id="endHour" chromeColor="#E0EFFB" maximum="23" minimum="0"/>
			<s:Label fontFamily="Arial" text="Minutes : "/>
			<s:NumericStepper id="endMinutes" chromeColor="#E0EFFB" maximum="59" minimum="0"/>
		</mx:HBox>
		<mx:HBox width="313" height="32" verticalAlign="middle">
			<!-- Label to show asterisk -->
			<s:Label left="5"
					 top="10"
					 color="#ED3814"
					 fontFamily="Times New Roman"
					 fontSize="13"
					 fontWeight="bold"
					 text="*"/>
			<!-- Label to show Course -->
			<s:Label left="25"
					 top="285"
					 width="91"
					 text="Course"
					 fontFamily="Arial"
					 fontSize="12"
					 fontWeight="normal"/>
			<!-- Combo box to select course -->
			<s:ComboBox id="cmbCourses" right="92" top="75" width="160" height="28"
						change="loadClassForCourse()" chromeColor="#E0EFFB"
						dataProvider="{dbCourse}" labelField="courseName" prompt="Select Course"
						selectedIndex="0"/>

		</mx:HBox>
		<mx:HBox width="313" height="32" verticalAlign="middle">
			<!-- Label to show asterisk -->
			<s:Label left="5"
					 top="10"
					 color="#ED3814"
					 fontFamily="Times New Roman"
					 fontSize="13"
					 fontWeight="bold"
					 text="*"/>
			<!-- Label to show Class -->
			<s:Label left="25"
					 top="285"
					 width="91"
					 text="Class"
					 fontFamily="Arial"
					 fontSize="12"
					 fontWeight="normal"/>
			<!-- Combo box to select class -->
			<s:ComboBox id="cmbClasses" right="92" top="75" width="160" height="28"
						chromeColor="#E0EFFB" dataProvider="{dbClass}" labelField="className"
						prompt="Select Class" selectedIndex="0"/>

		</mx:HBox>
		<mx:HBox width="313" height="32" verticalAlign="middle">
			<!-- Label to show asterisk -->
			<s:Label left="5"
					 top="10"
					 color="#ED3814"
					 fontFamily="Times New Roman"
					 fontSize="13"
					 fontWeight="bold"
					 text="*"/>
			<!-- Label to show Question Paper -->
			<s:Label left="25"
					 top="285"
					 width="91"
					 fontFamily="Arial"
					 fontSize="12"
					 fontWeight="normal"
					 text="Question Paper"/>
			<!-- Combo box to select question paper name -->
			<s:ComboBox id="cmbQuestionPapers" right="92" top="75" width="160" height="28"
						chromeColor="#E0EFFB" dataProvider="{dbQuestionPaper}"
						labelField="questionPaperName" prompt="Select Question Paper Name">
			</s:ComboBox>
		</mx:HBox>

		<!-- HBox for buttons -->
		<mx:HBox width="313"
				 height="32"
				 horizontalAlign="center"
				 horizontalCenter="0"
				 verticalCenter="0"
				 chromeColor="#CCCCCC">

			<!-- Button to start quiz -->
			<components:ImageButton id="btnCreateQuiz" left="100" top="350" width="60" label="Start"
									chromeColor="#E0EFFB" color="#000000" cornerRadius="3"
									fontFamily="Arial" fontSize="12" fontWeight="normal"/>
			<!-- Button to cancel quiz -->
			<components:ImageButton id="btnCancelQuiz" right="100" top="350" width="60"
									label="Cancel" chromeColor="#E0EFFB"
									click="{closeCreateQuizComponent()}" color="#000000"
									cornerRadius="3" fontFamily="Arial" fontSize="12"
									fontWeight="normal"/>
		</mx:HBox>

	</mx:VBox>

	<!-- Label to show Quiz -->
	<s:Label x="0"
			 y="4"
			 text="Quiz"
			 width="170"
			 height="35"
			 enabled="true"
			 fontFamily="Times New Roman"
			 fontSize="20"
			 fontWeight="bold"
			 fontStyle="italic"
			 visible="false"/>
</components:InsidePanel>
