<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:fx="http://ns.adobe.com/mxml/2009"
		   xmlns:s="library://ns.adobe.com/flex/spark"
		   xmlns:mx="library://ns.adobe.com/flex/mx" creationComplete="creationComplete()"
		  backgroundAlpha="0.0" width="{selectedIndex==0?382:260}" height="{selectedIndex==0?204:118}" keyDown="escapeQuesionInterface(event)">
	
	
	
	
	<fx:Script source="QuestionInterfaceHandler.as"/>
	<fx:Declarations>
		<!--   width="382" height="204"   Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	
	<s:BorderContainer x="6" y="0" width="100%" height="100%" backgroundColor="#B7DCF7"
					   borderAlpha="1.0" borderColor="#2A96D8" cornerRadius="5"
					   dropShadowVisible="true" >
		<s:Label left="12" top="7" width="100%" color="#284B65" fontSize="13" fontWeight="bold" id="questionHeader"
				 text="{selectedIndex==0?'Question ('+(questionIndex+1)+'/'+questions.length+')':'Handraise'}"/>
		<mx:ViewStack left="0" top="25" bottom="0" width="100%" selectedIndex="{selectedIndex}">
			<s:NavigatorContent width="100%" height="100%">
				<s:BorderContainer  width="100%" height="100%" borderVisible="false"
								   cornerRadius="3">
					<s:layout>
						<s:HorizontalLayout paddingBottom="10" paddingLeft="20" paddingRight="20"
											paddingTop="10" verticalAlign="middle"/>
					</s:layout>
					<s:VGroup>
						<s:Image visible="false" id="btnPrevious" buttonMode="true" toolTip="Previous"
								 click="previousQuestion()" smooth="true" smoothingQuality="high"
								 source="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/previous.png')"
								 useHandCursor="true"/>
					</s:VGroup>
					
					<s:VGroup width="100%" height="100%" gap="5" horizontalAlign="center" paddingLeft="2"
							  paddingRight="2" paddingTop="3">
						<s:TextArea x="14" y="17" width="100%" height="72" borderVisible="false"
									color="#6C7072" editable="false" enabled="true" fontFamily="Calibri"
									fontSize="16"
									text="{getQuestionDetails(questions[questionIndex].question)}"/>
						<mx:HRule width="100%" height="1" chromeColor="#6C7072"/>
						<s:HGroup width="100%" paddingTop="3">
							<!--<s:Image buttonMode="true" smooth="true" smoothingQuality="high"
									 source="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/like.png')"
									 toolTip="Previous" useHandCursor="true"/>
							<s:Label color="#2A96D8" fontFamily="Calibri" fontSize="12" text="(10)"
									 textAlign="left"/>-->
							<s:Spacer width="100%"/>
							<s:Label width="100%" color="#6C7072" fontFamily="Calibri" fontSize="12"
									 text="{'Time: ' + questions[questionIndex].postedTime}" textAlign="right"/>
						</s:HGroup>
						<mx:ViewStack width="100%" height="48" id="vskQuestionStatus">
							<s:NavigatorContent>
								<s:HGroup visible="{questions[questionIndex].questionStatus=='UNANSWERED'?true:false}"
										  width="100%" height="48" horizontalAlign="center" verticalAlign="bottom">
									<s:Image buttonMode="true" smooth="true" smoothingQuality="high" toolTip="Mark as Answered"
											 source="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/questionTick.png')"
											 useHandCursor="true" click="setQuestionToAnswered()"/>
									<s:Image buttonMode="true" smooth="true" smoothingQuality="high" click="deleteQuestion()" toolTip="Delete Question"
											 source="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/delete.png')"
											 useHandCursor="true"/>
									<s:Image buttonMode="true" click="startInteraction()" smooth="true" 
											 smoothingQuality="high" id="btnInteraction"
											 source="{interactionActionIconStart}"
											 toolTip="Start Interaction with user" useHandCursor="true"/>
									<s:Image buttonMode="true" click="skipQuestion()" smooth="true"
											 smoothingQuality="high" toolTip="Clicking on this button will remove the notification from userlist and mark all unread questions as skipped"
											 source="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/done.png')"
											 useHandCursor="true"/>
								</s:HGroup>
							</s:NavigatorContent>
							<s:NavigatorContent>
								<mx:HBox visible="{questions[questionIndex].questionStatus=='ANSWERED'?true:false}"
										 width="100%" height="28" contentBackgroundColor="#b4fb9b"
										 horizontalAlign="left" verticalAlign="bottom">
									<mx:HBox y="9" width="100%" height="19" backgroundColor="#b4fb9b"
											 color="#2a9f32" fontWeight="bold" horizontalGap="5"
											 horizontalAlign="left" paddingLeft="5" paddingTop="1"
											 verticalAlign="middle">
										<s:Image smooth="true" smoothingQuality="high"
												 source="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/answered.png')"/>
									<s:Label text="Answered" verticalAlign="bottom"/>
									</mx:HBox>
								</mx:HBox>
							</s:NavigatorContent>
							<s:NavigatorContent>
								<mx:HBox  visible="{questions[questionIndex].questionStatus=='SKIPPED'?true:false}"
										 width="100%" height="28" contentBackgroundColor="#fbc7b9"
										 horizontalAlign="left" verticalAlign="bottom">
									<mx:HBox y="9" width="100%" height="19" backgroundColor="#fbc7b9"
											 color="#c14a3a" fontWeight="bold"
											 horizontalAlign="left" horizontalGap="5"
											 paddingLeft="5" paddingTop="1" verticalAlign="middle">
										<s:Image smooth="true" smoothingQuality="high"
												 source="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/skipped.png')"/>

										<s:Label color="#c14a3a" text="Skipped" textAlign="left"
												 verticalAlign="bottom"/>
									</mx:HBox>
									
								</mx:HBox>
							</s:NavigatorContent>
						</mx:ViewStack>
					</s:VGroup>
					<s:VGroup>
						<s:Image visible="{questionIndex==questions.length-1?false:true}" id="btnNext"
								 buttonMode="true" click="nextQuestion()" smooth="true"
								 smoothingQuality="high"
								 source="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/next.png')"
								 toolTip="Next" useHandCursor="true"/>
					</s:VGroup>
				</s:BorderContainer>
			</s:NavigatorContent>
			<s:NavigatorContent width="100%" height="100%">
				<s:BorderContainer  width="100%" height="100%" borderVisible="false"
									cornerRadius="3">
					<s:layout>
						<s:VerticalLayout paddingBottom="10" paddingLeft="20" paddingRight="20"
											paddingTop="10" verticalAlign="middle" horizontalAlign="center"/>
						
					</s:layout>
					<s:Label width="197" maxDisplayedLines="1" text="{'Interact with '+displayName+'?'}" toolTip="{displayName}"
							 textAlign="center" verticalAlign="middle"/>
					<s:HGroup width="100%" verticalAlign="middle" horizontalAlign="center">				
						<s:Button width="64" height="22" click="startInteraction()"
								  icon="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/interact.png')"
								  toolTip="Interaction with user"/>
						<s:Button width="60" height="22" click="ignoreHandraise()"
								  icon="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/ignore.png')"
								  toolTip="Ignore the handraise request"/>
					</s:HGroup>
				</s:BorderContainer>
			</s:NavigatorContent>
		</mx:ViewStack>
		<!--Fix for Bug#17245-->
		<s:Image right="5" top="6" buttonMode="true" smooth="true" smoothingQuality="high" toolTip="Close" click="questionInterfaceCloseHandler()"
				 source="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/close.png')"
				 useHandCursor="true"/>
	</s:BorderContainer>
	<s:Image left="0" top="29" smooth="true" smoothingQuality="high"
			 source="@Embed('/edu/amrita/aview/core/shared/components/userList/assets/images/popuparrow.png')"/>
</mx:Canvas>
