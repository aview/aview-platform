<?xml version="1.0" encoding="utf-8"?>
<!--
////////////////////////////////////////////////////////////////////////////////
//
// Copyright  Â© 2013 E-Learning Research Lab, 
// Amrita Vishwa Vidyapeetham. All rights reserved. 
// E-Learning Research Lab and the A-VIEW logo are trademarks or
// registered trademarks of E-Learning Research Lab. 
// All other names used are the trademarks of their respective owners.
//
////////////////////////////////////////////////////////////////////////////////
-->
<!---

File		: SizeCallout.mxml
Module		: WhiteBoard
Developer(s): Jeevanantham N
Reviewer(s)	: Pradeesh, Jayakrishnan R

SizeCallout is used to change the thickness of shapes and pencil tool.

-->

<s:Callout xmlns:fx="http://ns.adobe.com/mxml/2009"
		   xmlns:s="library://ns.adobe.com/flex/spark"
		   width="100%"
		   height="100%"
		   horizontalPosition="end"
		   creationComplete="init(event)">
	<fx:Script>
		<![CDATA[
			import edu.amrita.aview.core.shared.events.mobileCustomEvents.WhiteBoardActionEvent;
			
			
			import mx.core.FlexGlobals;
			import mx.events.FlexEvent;

			/**
			 * Holds thickness of tools
			 */
			public var shapeThickNess:Number=3;
			/**
			 * Holds selected tool object
			 */
			private var data:Object;

			/**
			 * @private
			 *
			 * To decrease the thickness
			 *
			 * @param event of MouseEvent
			 * @return void
			 */
			private function btnMinusClickHandler(event:MouseEvent):void
			{
				if (shapeThickNess > 1 && shapeThickNess <= 10)
				{
					shapeThickNess--;
					txtThickness.text=shapeThickNess.toString();
				}
				data=new Object();
				data.lineThickness=shapeThickNess;
				btnMinus.dispatchEvent(new WhiteBoardActionEvent(WhiteBoardActionEvent.WB_THICKNESS_CHANGE, data));
			}
			/**
			 * @private
			 *
			 * To increase the thickness
			 *
			 * @param event of MouseEvent
			 * @return void
			 */
			private function btnPlusClickHandler(event:MouseEvent):void
			{
				if (shapeThickNess >= 1 && shapeThickNess < 10)
				{
					shapeThickNess++;
					txtThickness.text=shapeThickNess.toString();
				}
				data=new Object();
				data.lineThickness=shapeThickNess;
				btnPlus.dispatchEvent(new WhiteBoardActionEvent(WhiteBoardActionEvent.WB_THICKNESS_CHANGE, data));
			}
			/**
			 * @protected
			 *
			 * Add EventListeners for changing the thickness
			 *
			 * @param event of FlexEvent
			 * @return void
			 */
			protected function init(event:FlexEvent):void
			{
				btnPlus.addEventListener(WhiteBoardActionEvent.WB_THICKNESS_CHANGE, FlexGlobals.topLevelApplication.wbComp.changeLineThickness);
				btnMinus.addEventListener(WhiteBoardActionEvent.WB_THICKNESS_CHANGE, FlexGlobals.topLevelApplication.wbComp.changeLineThickness);
			}
		]]>
	</fx:Script>
	<s:VGroup width="200"
			  height="100%"
			  verticalAlign="middle"
			  horizontalAlign="center"
			  top="10"
			  bottom="10">
		<!--Title of the component-->
		<s:VGroup width="100%"
				  height="20%"
				  verticalAlign="middle"
				  horizontalAlign="center">

			<s:Label text="Size"
					 fontWeight="bold"/>
			<s:Line width="90%">
				<s:stroke>
					<s:SolidColorStroke color="0x000000"
										weight="1"
										alpha="0.4"/>
				</s:stroke>
			</s:Line>
		</s:VGroup>
		<!-- Size control components-->
		<s:HGroup width="100%"
				  height="100%"
				  verticalAlign="middle"
				  horizontalAlign="center"
				  gap="0">
			<s:Button id="btnMinus"
					  label="-"
					  fontSize="22"
					  fontWeight="bold"
					  width="30%"
					  height="100%"
					  click="btnMinusClickHandler(event)"/>
			<s:TextInput id="txtThickness"
						 width="30%"
						 borderVisible="true"
						 enabled="false"
						 textAlign="center"
						 horizontalCenter="0"
						 height="100%"/>
			<s:Button id="btnPlus"
					  label="+"
					  fontSize="22"
					  fontWeight="bold"
					  width="30%"
					  height="100%"
					  click="btnPlusClickHandler(event)"/>
		</s:HGroup>
	</s:VGroup>
</s:Callout>
