<?xml version="1.0" encoding="utf-8"?>
<!--
////////////////////////////////////////////////////////////////////////////////
//
// Copyright  Â© 2013 E-Learning Research Lab,
// Amrita Vishwa Vidyapeetham. All rights reserved.
// E-Learning Research Lab and the A-VIEW logo are trademarks or
// registered trademarks of E-Learning Research Lab.
// All other names used are the trademarks of their respective owners.
//
////////////////////////////////////////////////////////////////////////////////
-->

<!---
File		: ClassRegistrationApprovalComp.mxml
Module		: GCLM
Developer(s): Ramesh G, Sethu Subramanian N
Reviewer(s)	:

This component displays details of the pending class approvals. This is invoked from the
ClassRegistrationComp.mxml. Only Master Admin/Institute admins have access to this component

Based on the logged in user credentials this component behaves as follows:
Master Admin: Can approve/delete all class registrations

Institute Admins: Can approve/delete all class registrations which is bounded to their institute
Moderators: Can approve/delete all class registrations for which they are the moderators
-->
<components1:InsidePanel xmlns:fx="http://ns.adobe.com/mxml/2009"
						 xmlns:s="library://ns.adobe.com/flex/spark"
						 xmlns:mx="library://ns.adobe.com/flex/mx"
						 xmlns:components="edu.amrita.aview.core.shared.components.*"
						 xmlns:autoComplete="edu.amrita.aview.core.shared.components.autoComplete.*"
						 xmlns:xt="library://ns.tink.ws/flex/mx"
						 width="900"
						 height="532"
						 backgroundColor="#e0effb"
						 color="#0653B3"
						 dropShadowVisible="false"
						 fontSize="15"
						 fontWeight="bold"
						 textAlign="center"
						 title="Users Class Registration Approval"
						 xmlns:components1="edu.amrita.aview.core.shared.components.*">

	<fx:Script source="ClassRegistrationApprovalCompUIHandler.as"/>

	<!-- Place non-visual elements (e.g., services, value objects) here -->
	<fx:Declarations>


	</fx:Declarations>
	<!-- User class registration approval container -->
	<mx:Canvas x="4"
			   y="0"
			   width="99%"
			   height="98%"
			   borderColor="#A3D7FF"
			   borderStyle="solid"
			   borderVisible="true"
			   chromeColor="#CCCCCC"
			   fontFamily="Arial"
			   fontSize="12"
			   fontWeight="normal"
			   textAlign="left">
		<!-- Label to show institute name -->
		<s:Label right="602"
				 top="25"
				 text="Institute Name :"/>
		<!-- //NPCR: If sparkcontrol is unused can be removed -->
		<!--<Sparkcontrols:AutoComplete right="200" top="20" width="400" height="25" id="cmbInstitutes" dataProvider="{institutesAC}"
										 labelField="instituteName" />-->
		<!-- Filter comboBox for institutes -->
		<xt:FilterComboBox id="cmbInstitutes"
						   right="200"
						   top="20"
						   width="400"
						   dataProvider="{GCLMContext.allCourseOfferingInstitutesAC}"
						   dropdownFactory="{GCLMContext.dropdownFactory}"
						   labelField="instituteName"
						   prompt=""
						   removeFilterOnSelection="true"
						   selectSingleMatch="true"/>
		<!-- Search Button -->
		<!-- //NPCR : Can give a meaningful name to chromecolor inside components -->
		<components:ImageButton right="100"
				  top="20"
				  label="Search"
				  chromeColor="#E0EFFB"
				  click="searchPendingApprovals();"
				  cornerRadius="3"/>
		<!-- Reset button -->
		<components:ImageButton right="10"
				  top="20"
				  label="Reset"
				  chromeColor="#E0EFFB"
				  click="resetData();"
				  cornerRadius="3"/>
		<!-- Check box for all pending class registration approvals -->
		<s:CheckBox width="74"
					label="Select All"
					id="chkSelectAllPendingClassRegApprovals"
					click="toggleAllPendingClassRegistrationApprovalsSelection()"
					keyDown="selectAllPendingClassRegistrationApprovalsKeyDownHandler(event)"
					top="70"
					right="16"/>
		<!-- Datagrid for approvalPendingClassRegistrations -->
		<mx:DataGrid left="10"
					 right="10"
					 top="90"
					 bottom="50"
					 dataProvider="{approvalPendingClassRegistrations}"
					 click="togglecbSelectAllPendingClassRegistrationApproval()">
			<mx:columns>
				<!-- Data grid column for user id -->
				<mx:DataGridColumn dataField="userId"
								   headerText="User Id"
								   width="50"/>
				<!-- Data grid column for user name -->
				<mx:DataGridColumn dataField="userName"
								   headerText="User Name"
								   sortCompareFunction="{AViewStringUtil.caselessSortForField('userName')}"/>
				<!-- Data grid column for institute name -->
				<mx:DataGridColumn dataField="instituteName"
								   headerText="Institute Name"
								   sortCompareFunction="{AViewStringUtil.caselessSortForField('instituteName')}"/>
				<!-- Data grid column for class name -->
				<mx:DataGridColumn dataField="className"
								   headerText="Class Name"
								   sortCompareFunction="{AViewStringUtil.caselessSortForField('className')}"/>
				<!-- Data grid column for course name -->
				<mx:DataGridColumn dataField="courseName"
								   headerText="Course Name"
								   sortCompareFunction="{AViewStringUtil.caselessSortForField('courseName')}"/>
				<!-- Data grid column for course institute -->
				<mx:DataGridColumn dataField="courseInstitute"
								   headerText="Course Conducted by Institute"
								   sortCompareFunction="{AViewStringUtil.caselessSortForField('courseInstitute')}"/>
				<!-- Data grid column for status --> 
				<!-- //NPCR : Can give a meaningful name for id in datagridcolumn --> 
				<mx:DataGridColumn id="comb2"
								   dataField="status"
								   width="80"
								   headerText="Select"
								   editable="true"
								   editorDataField="selected"
								   rendererIsEditor="true"
								   itemRenderer="edu.amrita.aview.core.shared.components.checkBox.CheckBoxItemRenderer"/>
			</mx:columns>
		</mx:DataGrid>
		<!-- Approve Button -->
		<components:ImageButton bottom="10"
				  label="Approve"
				  chromeColor="#E0EFFB"
				  click="saveClassRegistrationApprovals()"
				  cornerRadius="3"
				  horizontalCenter="-60"/>
		<!-- Cancel Button -->
		<components:ImageButton bottom="10"
				  label="Cancel"
				  chromeColor="#E0EFFB"
				  click="closeClassRegistrationApprovalComp();"
				  cornerRadius="3"
				  horizontalCenter="60"/>

	</mx:Canvas>
	<!-- Icon to close RegistrationApproval component -->
	<components:WindowCloseImage
			 right="5"
			 top="-25"
			 id="imgClose"
			 click="closeClassRegistrationApprovalComp()"/>

</components1:InsidePanel>
